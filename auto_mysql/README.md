mysql相关的一些自动化脚本;

## 一、需求分析

主要想实现快速创建MySQL实例, 因为如果按照官方文档来安装也是需要分为几个步骤:

1. 下载对应的版本二进制安装包, 解压缩到 /usr/local目录下, 通常是这个目录
2. 初始化数据目录;
3. 启动mysqld服务, 修改初始密码;
4. 可能还需要安装默认未支持的存储引擎插件, 建库建表等等...

想直接使用一个python脚本自动化该过程; 自动化后有以下好处:

* 如果是一台机器安装多个实例(通常是测试环境), 这些重复步骤可以交给python脚本完成
* 如果安装的多实例MySQL版本不同, 脚本自动化不容易出错;
* 只需要稍微修改下 define.py 文件中的变量定义，指定好**安装目录，数据目录，网卡名称**，剩下内容就可以全自动了。

## 二、功能接口

### 2.1 提供两个class

分别提供MySQL和MariaDB两个class，用于实现相关的操作。比如说初始化数据目录，启动实例，关闭实例。剩下就是

### 2.2 自动下载MariaDB

当前如果MariaDB未安装，将无法创建实例。

该链接：<https://mariadb.org/downloads-rest-api/>，MariaDB官方提供了rest-api支持下载MariaDB二进制包。这可太棒了，这样我们就可以直接集成到我们的脚本中。

实现MariaDb包的自动下载，安装。

## 三、问题

1. 兼容windows？没试过通过脚本在windows上创建mysql实例。这工作量比较大，且windows上用的不多。

MySQL和MariaDB官方的二进制包下载下来, 安装在`/usr/local/`之后, 所属用户, 组并不是root, 而是奇怪的用户ID; 可能会导致一些问题, 需要自行修改下所属用户和组; 

这个也可以交由auto_mysql脚本完成?

